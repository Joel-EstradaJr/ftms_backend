/* ============================================================
   auditTrailBudgetRequest.css â€“ Audit Trail Modal for Budget Requests
   Vertical timeline showing user actions and changes
   ============================================================ */

/* ---------- Overlay ---------- */
.modalOverlay {
  position: fixed !important;
  inset: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  background: rgba(0, 0, 0, 0.4) !important;
  display: flex !important;
  justify-content: center !important;
  align-items: center !important;
  z-index: 1050 !important;
  overflow: auto !important;
  scrollbar-width: none !important;
  -ms-overflow-style: none !important;
}
.modalOverlay::-webkit-scrollbar {
  display: none !important;
}

/* ---------- Modal Box ---------- */
.auditTrailBudgetRequestModal {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: flex-start !important;
  background: var(--foreground-color) !important;
  padding: var(--modal-padding) !important;
  border-radius: var(--modal-border-radius) !important;
  width: 90% !important;
  max-width: 900px !important;
  max-height: 90vh !important;
  overflow: hidden !important;
  box-shadow: var(--box-shadow) !important;
  position: relative !important;
  font-family: var(--font-sans) !important;
  color: var(--primary-text-color) !important;
}

/* ---------- Subheader ---------- */
.auditTrailSubheader {
  width: 100% !important;
  display: flex !important;
  justify-content: space-between !important;
  align-items: flex-start !important;
  padding: 1rem 0 !important;
  border-bottom: 1px solid var(--border-color) !important;
  margin-bottom: 1.5rem !important;
}

.requestInfo h3 {
  margin: 0 0 0.5rem 0 !important;
  color: var(--primary-color) !important;
  font-size: 1.2rem !important;
  font-weight: 600 !important;
}

.requestInfo p {
  margin: 0 !important;
  color: var(--secondary-text-color) !important;
  font-size: 0.9rem !important;
}

.auditStats {
  display: flex !important;
  gap: 2rem !important;
}

.auditStat {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  text-align: center !important;
}

.statNumber {
  font-size: 1.8rem !important;
  font-weight: bold !important;
  color: var(--primary-color) !important;
  line-height: 1 !important;
}

.statLabel {
  font-size: 0.8rem !important;
  color: var(--secondary-text-color) !important;
  margin-top: 0.25rem !important;
}

/* ---------- Content Area ---------- */
.auditTrailContent {
  width: 100% !important;
  overflow-y: auto !important;
  max-height: calc(90vh - 200px) !important;
  scrollbar-width: thin !important;
  padding-right: 0.5rem !important;
}
.auditTrailContent::-webkit-scrollbar {
  width: 6px !important;
}
.auditTrailContent::-webkit-scrollbar-thumb {
  background: var(--border-color) !important;
  border-radius: 6px !important;
}

/* ---------- Timeline ---------- */
.timeline {
  position: relative !important;
  padding: 1rem 0 !important;
}

.timeline-item {
  position: relative !important;
  display: flex !important;
  margin-bottom: 2rem !important;
  padding-left: 3rem !important;
}

.timeline-marker {
  position: absolute !important;
  left: 0 !important;
  top: 0 !important;
  width: 2.5rem !important;
  height: 2.5rem !important;
  border-radius: 50% !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  font-size: 1.2rem !important;
  font-weight: bold !important;
  z-index: 2 !important;
}

.timeline-connector {
  position: absolute !important;
  left: 1.25rem !important;
  top: 2.5rem !important;
  width: 2px !important;
  height: 2rem !important;
  background: var(--border-color) !important;
  z-index: 1 !important;
}

.timeline-content {
  flex: 1 !important;
  background: white !important;
  border: 1px solid var(--border-color) !important;
  border-radius: 8px !important;
  padding: 1.5rem !important;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1) !important;
  position: relative !important;
}

.timeline-content::before {
  content: '' !important;
  position: absolute !important;
  left: -8px !important;
  top: 1rem !important;
  width: 0 !important;
  height: 0 !important;
  border-style: solid !important;
  border-width: 8px 8px 8px 0 !important;
  border-color: transparent white transparent transparent !important;
}

/* ---------- Timeline Header ---------- */
.timeline-header {
  display: flex !important;
  justify-content: space-between !important;
  align-items: flex-start !important;
  margin-bottom: 1rem !important;
}

.timeline-action h4 {
  margin: 0 0 0.25rem 0 !important;
  font-size: 1.1rem !important;
  font-weight: 600 !important;
  color: var(--primary-text-color) !important;
}

.timeline-time {
  font-size: 0.85rem !important;
  color: var(--secondary-text-color) !important;
  font-weight: 500 !important;
}

.user-info {
  display: flex !important;
  flex-direction: column !important;
  align-items: flex-end !important;
  text-align: right !important;
}

.user-name {
  font-weight: 600 !important;
  color: var(--primary-text-color) !important;
  font-size: 0.95rem !important;
}

.user-role {
  font-size: 0.8rem !important;
  color: var(--secondary-text-color) !important;
  margin-top: 0.25rem !important;
}

/* ---------- Timeline Details ---------- */
.timeline-details p {
  margin: 0 0 1rem 0 !important;
  color: var(--primary-text-color) !important;
  line-height: 1.5 !important;
}

.changes-section {
  background: #f8f9fa !important;
  border: 1px solid #e9ecef !important;
  border-radius: 6px !important;
  padding: 1rem !important;
  margin: 1rem 0 !important;
}

.changes-section h5 {
  margin: 0 0 0.75rem 0 !important;
  font-size: 0.9rem !important;
  font-weight: 600 !important;
  color: var(--primary-color) !important;
}

.changes-list {
  list-style: none !important;
  padding: 0 !important;
  margin: 0 !important;
}

.change-item {
  padding: 0.5rem 0.75rem !important;
  border-bottom: 1px solid #e9ecef !important;
  font-size: 0.85rem !important;
  color: var(--primary-text-color) !important;
  font-family: 'Courier New', monospace !important;
  background: white !important;
  border-radius: 4px !important;
  margin-bottom: 0.5rem !important;
}

.change-item:last-child {
  border-bottom: none !important;
  margin-bottom: 0 !important;
}

/* ---------- Timeline Meta ---------- */
.timeline-meta {
  display: flex !important;
  gap: 1.5rem !important;
  margin-top: 1rem !important;
  padding-top: 1rem !important;
  border-top: 1px solid #e9ecef !important;
}

.meta-item {
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  font-size: 0.8rem !important;
  color: var(--secondary-text-color) !important;
}

.meta-item i {
  font-size: 0.9rem !important;
}

/* ---------- Timeline Item Colors ---------- */
.timeline-item-created .timeline-marker {
  background: var(--success-color) !important;
  color: white !important;
  border: 3px solid white !important;
  box-shadow: 0 0 0 2px var(--success-color) !important;
}

.timeline-item-modified .timeline-marker,
.timeline-item-updated .timeline-marker {
  background: var(--warning-color) !important;
  color: white !important;
  border: 3px solid white !important;
  box-shadow: 0 0 0 2px var(--warning-color) !important;
}

.timeline-item-submitted .timeline-marker {
  background: var(--info-color) !important;
  color: white !important;
  border: 3px solid white !important;
  box-shadow: 0 0 0 2px var(--info-color) !important;
}

.timeline-item-reviewed .timeline-marker {
  background: #6f42c1 !important;
  color: white !important;
  border: 3px solid white !important;
  box-shadow: 0 0 0 2px #6f42c1 !important;
}

.timeline-item-approved .timeline-marker {
  background: var(--success-color) !important;
  color: white !important;
  border: 3px solid white !important;
  box-shadow: 0 0 0 2px var(--success-color) !important;
}

.timeline-item-rejected .timeline-marker,
.timeline-item-deleted .timeline-marker {
  background: var(--danger-color) !important;
  color: white !important;
  border: 3px solid white !important;
  box-shadow: 0 0 0 2px var(--danger-color) !important;
}

.timeline-item-closed .timeline-marker {
  background: #6c757d !important;
  color: white !important;
  border: 3px solid white !important;
  box-shadow: 0 0 0 2px #6c757d !important;
}

.timeline-item-default .timeline-marker {
  background: var(--border-color) !important;
  color: var(--primary-text-color) !important;
  border: 3px solid white !important;
  box-shadow: 0 0 0 2px var(--border-color) !important;
}

/* ---------- Button Area ---------- */
/* Reset all positioning for any close button inside the modal header */
.modalHeader {
  display: block; 
  margin-bottom: 2rem;
  padding-bottom: 1rem;
  border-bottom: 1px solid #eee;
  position: relative;
}

.closeButton:hover {
	background-color: var(--table-header-color) !important;
}


.exportAuditBtn {
  background: var(--secondary-color) !important;
}
.exportAuditBtn:hover {
  background: var(--secondary-hover-color) !important;
}

/* ---------- Responsive ---------- */
@media (max-width: 768px) {
  .auditTrailBudgetRequestModal {
    width: 95% !important;
    max-width: 95% !important;
    padding: 1rem !important;
  }

  .auditTrailSubheader {
    flex-direction: column !important;
    gap: 1rem !important;
  }

  .auditStats {
    justify-content: center !important;
    gap: 1rem !important;
  }

  .timeline-item {
    padding-left: 2.5rem !important;
  }

  .timeline-marker {
    width: 2rem !important;
    height: 2rem !important;
    font-size: 1rem !important;
  }

  .timeline-connector {
    left: 1rem !important;
  }

  .timeline-header {
    flex-direction: column !important;
    gap: 0.5rem !important;
  }

  .user-info {
    align-items: flex-start !important;
    text-align: left !important;
  }

  .timeline-meta {
    flex-direction: column !important;
    gap: 0.5rem !important;
  }

  .modalButtons {
    flex-direction: column !important;
  }

  .modalButtons button {
    width: 100% !important;
  }
}