/* ============================================================
   budgetAllocation.css â€“ Budget Allocation Management Page
   Monitor and allocate budgets across departments
   ============================================================ */


   /* Add this new scrollable content wrapper */
.scrollable-content {
  width: 100% !important;
  max-height: 100% !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
  padding: 1rem !important;
  
  /* Custom scrollbar */
  scrollbar-width: thin !important;
  scrollbar-color: var(--border-color) transparent !important;
}

.scrollable-content::-webkit-scrollbar {
  width: 8px !important;
}

.scrollable-content::-webkit-scrollbar-track {
  background: transparent !important;
}

.scrollable-content::-webkit-scrollbar-thumb {
  background: var(--border-color) !important;
  border-radius: 4px !important;
}

.scrollable-content::-webkit-scrollbar-thumb:hover {
  background: var(--secondary-text-color) !important;
}

/* ---------- Page Header ---------- */
.pageHeader {
  display: flex !important;
  justify-content: space-between !important;
  align-items: flex-start !important;
  margin-bottom: 2rem !important;
  padding-bottom: 1.5rem !important;
  border-bottom: 1px solid var(--border-color) !important;
}

.headerLeft h1 {
  margin: 0 0 0.5rem 0 !important;
  font-size: 2rem !important;
  font-weight: 700 !important;
  color: var(--primary-color) !important;
}

.headerLeft p {
  margin: 0 !important;
  font-size: 1rem !important;
  color: var(--secondary-text-color) !important;
}

.headerActions {
  display: flex !important;
  gap: 1rem !important;
}

.exportBtn {
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  padding: 0.75rem 1.5rem !important;
  background: var(--secondary-color) !important;
  color: white !important;
  border: none !important;
  border-radius: 8px !important;
  font-weight: 600 !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  font-size: 0.95rem !important;
}

.exportBtn:hover {
  background: var(--secondary-hover-color) !important;
  transform: translateY(-1px) !important;
}

/* ---------- Loading ---------- */
.loading-container {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
  min-height: 60vh !important;
  color: var(--secondary-text-color) !important;
}

.loading-spinner {
  font-size: 3rem !important;
  animation: spin 1s linear infinite !important;
  margin-bottom: 1.5rem !important;
  color: var(--primary-color) !important;
}

.loading-container h2 {
  margin: 0 0 0.5rem 0 !important;
  color: var(--primary-text-color) !important;
}

.loading-container p {
  margin: 0 !important;
  font-size: 1rem !important;
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* ---------- Budget Summary Section ---------- */
.budgetSummarySection {
  display: grid !important;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)) !important;
  gap: 1.5rem !important;
  margin-bottom: 2.5rem !important;
}

.summaryCard {
  background: white !important;
  border: 1px solid var(--border-color) !important;
  border-radius: 16px !important;
  padding: 2rem !important;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1) !important;
  display: flex !important;
  align-items: center !important;
  gap: 1.5rem !important;
  transition: transform 0.2s ease, box-shadow 0.2s ease !important;
}

.summaryCard:hover {
  transform: translateY(-3px) !important;
  box-shadow: 0 8px 20px rgba(0,0,0,0.15) !important;
}

.summaryIcon {
  width: 70px !important;
  height: 70px !important;
  border-radius: 16px !important;
  background: var(--primary-color) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  color: white !important;
  font-size: 2rem !important;
  flex-shrink: 0 !important;
}

.summaryContent {
  flex: 1 !important;
}

.summaryContent h3 {
  margin: 0 0 0.75rem 0 !important;
  font-size: 0.95rem !important;
  font-weight: 600 !important;
  color: var(--secondary-text-color) !important;
  text-transform: uppercase !important;
  letter-spacing: 0.5px !important;
}

.summaryAmount {
  margin: 0 !important;
  font-size:  1.5rem !important;
  font-family: var(--font-sans);
  font-weight: 800 !important;
  color: var(--primary-text-color) !important;
  line-height: 1.1 !important;
}

.summaryAmount.used {
  color: var(--warning-color) !important;
}

.summaryAmount.positive {
  color: var(--success-color) !important;
}

.summaryAmount.negative {
  color: var(--danger-color) !important;
}

/* Add these new styles at the end of your existing CSS */

/* ---------- Past Period Warning ---------- */
.pastPeriodWarning {
  display: flex !important;
  align-items: center !important;
  gap: 0.75rem !important;
  padding: 1rem 1.5rem !important;
  background: #fff3cd !important;
  border: 1px solid #ffeaa7 !important;
  border-radius: 8px !important;
  color: #856404 !important;
  margin-bottom: 2rem !important;
  font-weight: 500 !important;
}

.pastPeriodWarning i {
  font-size: 1.2rem !important;
  color: #f39c12 !important;
}

/* ---------- Disabled Allocate Button ---------- */
.allocateBtn.disabled {
  background: #dee2e6 !important;
  color: #6c757d !important;
  cursor: not-allowed !important;
  opacity: 0.6 !important;
}

.allocateBtn.disabled:hover {
  background: #dee2e6 !important;
  transform: none !important;
}

/* ---------- Past Option Styling ---------- */
.periodSelect option.past-option {
  color: #6c757d !important;
  font-style: italic !important;
}

/* ---------- Enhanced Department Actions ---------- */
.departmentActions {
  display: flex !important;
  gap: 0.75rem !important;
  position: relative !important;
}

/* Tooltip for disabled button */
.allocateBtn.disabled::after {
  content: attr(title) !important;
  position: absolute !important;
  bottom: -35px !important;
  right: 0 !important;
  background: rgba(0, 0, 0, 0.8) !important;
  color: white !important;
  padding: 5px 8px !important;
  border-radius: 4px !important;
  font-size: 12px !important;
  white-space: nowrap !important;
  opacity: 0 !important;
  pointer-events: none !important;
  transition: opacity 0.2s ease !important;
  z-index: 100 !important;
}

.allocateBtn.disabled:hover::after {
  opacity: 1 !important;
}

/* ---------- Period Status Indicator ---------- */
.budgetPeriodSelector::after {
  content: '' !important;
  display: inline-block !important;
  width: 8px !important;
  height: 8px !important;
  border-radius: 50% !important;
  margin-left: 8px !important;
  background: var(--success-color) !important;
}

.budgetPeriodSelector.past-period::after {
  background: var(--warning-color) !important;
}

/* ---------- Enhanced Responsive ---------- */
@media (max-width: 768px) {
  .pastPeriodWarning {
    flex-direction: column !important;
    text-align: center !important;
    gap: 0.5rem !important;
  }
  
  .departmentActions {
    flex-direction: column !important;
    gap: 0.5rem !important;
  }
  
  .allocateBtn.disabled::after {
    bottom: auto !important;
    top: -35px !important;
    right: auto !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
  }
}


/* ---------- Controls Section ---------- */
.controlsSection {
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
  margin-bottom: 2rem !important;
  background: white !important;
  padding: 1.5rem !important;
  border-radius: 12px !important;
  border: 1px solid var(--border-color) !important;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05) !important;
}

.searchSection {
  flex: 1 !important;
  max-width: 400px !important;
}

.searchBox {
  position: relative !important;
  display: flex !important;
  align-items: center !important;
}

.searchBox i {
  position: absolute !important;
  left: 1rem !important;
  color: var(--secondary-text-color) !important;
  font-size: 1.1rem !important;
  z-index: 1 !important;
}

.searchInput {
  width: 100% !important;
  padding: 0.75rem 1rem 0.75rem 2.5rem !important;
  border: 1px solid var(--border-color) !important;
  border-radius: 8px !important;
  font-size: 1rem !important;
  color: var(--primary-text-color) !important;
  background: #f8f9fa !important;
  transition: all 0.2s ease !important;
}

.searchInput:focus {
  outline: none !important;
  border-color: var(--primary-color) !important;
  background: white !important;
  box-shadow: 0 0 0 3px rgba(150, 28, 30, 0.1) !important;
}

.filtersSection {
  display: flex !important;
  align-items: center !important;
  gap: 1rem !important;
}

.budgetPeriodSelector {
  display: flex !important;
  align-items: center !important;
  gap: 0.75rem !important;
}

.budgetPeriodSelector label {
  font-weight: 600 !important;
  color: var(--secondary-text-color) !important;
  font-size: 0.95rem !important;
}

.periodSelect {
  padding: 0.75rem 1rem !important;
  border: 1px solid var(--border-color) !important;
  border-radius: 8px !important;
  background: white !important;
  font-size: 0.95rem !important;
  color: var(--primary-text-color) !important;
  cursor: pointer !important;
  min-width: 120px !important;
}

.periodSelect:focus {
  outline: none !important;
  border-color: var(--primary-color) !important;
  box-shadow: 0 0 0 3px rgba(150, 28, 30, 0.1) !important;
}

/* Budget period Selector */


.budgetPeriodSelector {
  display: flex !important;
  align-items: center !important;
  gap: 0.75rem !important;
  position: relative !important;
}

.budgetPeriodSelector label {
  font-weight: 600 !important;
  color: var(--secondary-text-color) !important;
  font-size: 0.95rem !important;
  white-space: nowrap !important;
}

/* Enhanced Responsive for wider picker */
@media (max-width: 768px) {
  .controlsSection {
    flex-direction: column !important;
    gap: 1.5rem !important;
    align-items: stretch !important;
  }

  .filtersSection {
    justify-content: center !important;
  }

  .budgetPeriodSelector {
    flex-direction: column !important;
    align-items: center !important;
    gap: 0.5rem !important;
  }
}
/* ---------- Department Budget Section ---------- */
.departmentBudgetSection {
  background: white !important;
  border-radius: 16px !important;
  border: 1px solid var(--border-color) !important;
  overflow: hidden !important;
  box-shadow: 0 4px 12px rgba(0,0,0,0.08) !important;
}

.sectionHeader {
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
  padding: 2rem 2rem 1.5rem 2rem !important;
  background: #f8f9fa !important;
  border-bottom: 1px solid var(--border-color) !important;
}

.sectionHeader h3 {
  margin: 0 !important;
  font-size: 1.4rem !important;
  font-weight: 700 !important;
  color: var(--primary-color) !important;
}

.resultsCount {
  font-size: 0.9rem !important;
  color: var(--secondary-text-color) !important;
  font-weight: 500 !important;
}

/* ---------- Department Grid ---------- */
.departmentGrid {
  display: grid !important;
  grid-template-columns: repeat(auto-fit, minmax(450px, 1fr)) !important;
  gap: 2rem !important;
  padding: 2rem !important;
}

.departmentCard {
  background: white !important;
  border: 1px solid var(--border-color) !important;
  border-radius: 16px !important;
  padding: 2rem !important;
  box-shadow: 0 4px 12px rgba(0,0,0,0.08) !important;
  transition: transform 0.2s ease, box-shadow 0.2s ease !important;
  position: relative !important;
}

.departmentCard:hover {
  transform: translateY(-3px) !important;
  box-shadow: 0 8px 20px rgba(0,0,0,0.15) !important;
}

/* ---------- Department Header ---------- */
.departmentHeader {
  display: flex !important;
  justify-content: space-between !important;
  align-items: flex-start !important;
  margin-bottom: 2rem !important;
  padding-bottom: 1.5rem !important;
  border-bottom: 1px solid #f0f0f0 !important;
}

.departmentInfo h4 {
  margin: 0 0 0.75rem 0 !important;
  font-size: 1.4rem !important;
  font-weight: 700 !important;
  color: var(--primary-text-color) !important;
}

.departmentStatus {
  padding: 0.4rem 1rem !important;
  border-radius: 25px !important;
  font-size: 0.8rem !important;
  font-weight: 600 !important;
  text-transform: uppercase !important;
  letter-spacing: 0.5px !important;
}

.status-active {
  background: #d4edda !important;
  color: #155724 !important;
}

.status-exceeded {
  background: #f8d7da !important;
  color: #721c24 !important;
}

.status-inactive {
  background: #d6d8db !important;
  color: #495057 !important;
}

.departmentActions {
  display: flex !important;
  gap: 0.75rem !important;
}

.viewDetailsBtn,
.allocateBtn,
.deductBtn {
  width: 42px !important;
  height: 42px !important;
  border: none !important;
  border-radius: 12px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  cursor: pointer !important;
  font-size: 1.2rem !important;
  transition: all 0.2s ease !important;
}

.viewDetailsBtn {
  background: var(--info-color) !important;
  color: white !important;
}

.viewDetailsBtn:hover {
  background: var(--info-hover-color) !important;
  transform: scale(1.1) !important;
}

.allocateBtn {
  background: var(--success-color) !important;
  color: white !important;
}

.allocateBtn:hover {
  background: var(--success-hover-color) !important;
  transform: scale(1.1) !important;
}

.deductBtn {
  background: var(--error-color) !important;
  color: white !important;
}

.deductBtn:hover:not(:disabled) {
  background: var(--error-hover-color) !important;
  transform: scale(1.1) !important;
}

.deductBtn:disabled {
  background: #6c757d !important;
  cursor: not-allowed !important;
  opacity: 0.6 !important;
}

/* ---------- Budget Metrics ---------- */
.budgetMetrics {
  display: flex !important;
  flex-direction: column !important;
  gap: 1.25rem !important;
  margin-bottom: 2rem !important;
}

.metric {
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
  padding: 1rem !important;
  background: #f8f9fa !important;
  border-radius: 10px !important;
  border: 1px solid #e9ecef !important;
}

.metric label {
  font-size: 0.95rem !important;
  color: var(--secondary-text-color) !important;
  font-weight: 600 !important;
}

.metricValue {
  font-size: 1.1rem !important;
  font-weight: 700 !important;
  color: var(--primary-text-color) !important;
}

.metricValue.used {
  color: var(--warning-color) !important;
}

.metricValue.positive {
  color: var(--success-color) !important;
}

.metricValue.negative {
  color: var(--danger-color) !important;
}

/* ---------- Utilization Section ---------- */
.utilizationSection {
  margin-bottom: 2rem !important;
}

.utilizationHeader {
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
  margin-bottom: 0.75rem !important;
}

.utilizationHeader label {
  font-size: 0.95rem !important;
  color: var(--secondary-text-color) !important;
  font-weight: 600 !important;
}

.utilizationPercentage {
  font-weight: 700 !important;
  font-size: 1rem !important;
}

.utilization-low {
  color: var(--success-color) !important;
}

.utilization-medium {
  color: var(--info-color) !important;
}

.utilization-high {
  color: var(--warning-color) !important;
}

.utilization-exceeded {
  color: var(--danger-color) !important;
}

.utilizationBar {
  width: 100% !important;
  height: 12px !important;
  background: #e9ecef !important;
  border-radius: 6px !important;
  overflow: hidden !important;
  box-shadow: inset 0 2px 4px rgba(0,0,0,0.1) !important;
}

.utilizationFill {
  height: 100% !important;
  transition: width 0.4s ease !important;
  border-radius: 6px !important;
}

.utilizationFill.utilization-low {
  background: linear-gradient(90deg, var(--success-color), #4caf50) !important;
}

.utilizationFill.utilization-medium {
  background: linear-gradient(90deg, var(--info-color), #2196f3) !important;
}

.utilizationFill.utilization-high {
  background: linear-gradient(90deg, var(--warning-color), #ff9800) !important;
}

.utilizationFill.utilization-exceeded {
  background: linear-gradient(90deg, var(--danger-color), #f44336) !important;
}

/* ---------- Department Footer ---------- */
.departmentFooter {
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
  padding-top: 1.5rem !important;
  border-top: 1px solid #f0f0f0 !important;
}

.footerMetric {
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  font-size: 0.9rem !important;
  color: var(--secondary-text-color) !important;
  font-weight: 500 !important;
}

.footerMetric i {
  font-size: 1.1rem !important;
  color: var(--primary-color) !important;
}

/* ---------- No Results ---------- */
.noResults {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
  padding: 4rem 2rem !important;
  color: var(--secondary-text-color) !important;
  text-align: center !important;
}

.noResults i {
  font-size: 3rem !important;
  margin-bottom: 1rem !important;
  color: var(--border-color) !important;
}

.noResults h3 {
  margin: 0 0 0.5rem 0 !important;
  color: var(--primary-text-color) !important;
}

.noResults p {
  margin: 0 !important;
  font-size: 1rem !important;
}

/* ---------- Allocation Modal (Same as before) ---------- */
.allocationModalOverlay {
  position: fixed !important;
  inset: 0 !important;
  background: rgba(0, 0, 0, 0.5) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  z-index: 1100 !important;
}

.allocationModal {
  background: white !important;
  border-radius: 16px !important;
  width: 90% !important;
  max-width: 600px !important;
  max-height: 80vh !important;
  overflow: hidden !important;
  box-shadow: 0 20px 50px rgba(0,0,0,0.3) !important;
}

.allocationModalHeader {
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
  padding: 2rem !important;
  border-bottom: 1px solid var(--border-color) !important;
  background: #f8f9fa !important;
}

.allocationModalHeader h3 {
  margin: 0 !important;
  font-size: 1.3rem !important;
  font-weight: 700 !important;
  color: var(--primary-text-color) !important;
}

.closeAllocationBtn {
  width: 36px !important;
  height: 36px !important;
  border: none !important;
  background: transparent !important;
  border-radius: 50% !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  cursor: pointer !important;
  color: var(--secondary-text-color) !important;
  font-size: 1.3rem !important;
  transition: all 0.2s ease !important;
}

.closeAllocationBtn:hover {
  background: var(--danger-color) !important;
  color: white !important;
}

.allocationModalContent {
  padding: 2rem !important;
  overflow-y: auto !important;
  max-height: calc(80vh - 160px) !important;
}

/* ---------- Current Budget Info ---------- */
.currentBudgetInfo {
  background: #f8f9fa !important;
  border: 1px solid var(--border-color) !important;
  border-radius: 12px !important;
  padding: 1.5rem !important;
  margin-bottom: 2rem !important;
}

.budgetInfoItem {
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
  padding: 0.75rem 0 !important;
  border-bottom: 1px solid #dee2e6 !important;
}

.budgetInfoItem:last-child {
  border-bottom: none !important;
}

.budgetInfoItem label {
  font-weight: 600 !important;
  color: var(--secondary-text-color) !important;
}

.budgetInfoItem span {
  font-weight: 700 !important;
  color: var(--primary-text-color) !important;
  font-size: 1.05rem !important;
}

.budgetInfoItem span.negative {
  color: var(--danger-color) !important;
}

.budgetInfoItem span.positive {
  color: var(--success-color) !important;
}

/* ---------- Allocation Form ---------- */
.allocationForm {
  display: flex !important;
  flex-direction: column !important;
  gap: 1.5rem !important;
}

.formField {
  display: flex !important;
  flex-direction: column !important;
}

.formField label {
  font-weight: 700 !important;
  margin-bottom: 0.75rem !important;
  color: var(--primary-text-color) !important;
  font-size: 0.95rem !important;
}

.required {
  color: var(--danger-color) !important;
}

.allocationInput,
.allocationTextarea {
  padding: 1rem !important;
  border: 1px solid var(--border-color) !important;
  border-radius: 8px !important;
  font-size: 1rem !important;
  color: var(--primary-text-color) !important;
  transition: all 0.2s ease !important;
  font-family: var(--font-sans) !important;
}

.allocationInput:focus,
.allocationTextarea:focus {
  outline: none !important;
  border-color: var(--primary-color) !important;
  box-shadow: 0 0 0 3px rgba(150, 28, 30, 0.1) !important;
}

.allocationInput.readonly {
  background: #f8f9fa !important;
  cursor: not-allowed !important;
}

.allocationTextarea {
  resize: vertical !important;
  min-height: 100px !important;
}

/* ---------- Allocation Preview ---------- */
.allocationPreview {
  background: #e8f5e8 !important;
  border: 1px solid #c3e6c3 !important;
  border-radius: 12px !important;
  padding: 1.5rem !important;
  margin-top: 1.5rem !important;
}

.allocationPreview h4 {
  margin: 0 0 1rem 0 !important;
  color: var(--success-color) !important;
  font-size: 1.1rem !important;
  font-weight: 700 !important;
}

.previewItem {
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
  padding: 0.75rem 0 !important;
  border-bottom: 1px solid #c3e6c3 !important;
}

.previewItem:last-child {
  border-bottom: none !important;
}

.previewItem label {
  font-weight: 600 !important;
  color: var(--secondary-text-color) !important;
}

.previewItem span {
  font-weight: 700 !important;
  color: var(--success-color) !important;
  font-size: 1.05rem !important;
}

/* ---------- Allocation Modal Buttons ---------- */
.allocationModalButtons {
  display: flex !important;
  justify-content: flex-end !important;
  gap: 1rem !important;
  padding: 2rem !important;
  border-top: 1px solid var(--border-color) !important;
  background: #f8f9fa !important;
}

.cancelAllocationBtn,
.submitAllocationBtn {
  padding: 0.875rem 2rem !important;
  border: none !important;
  border-radius: 8px !important;
  font-weight: 700 !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  font-size: 0.95rem !important;
}

.cancelAllocationBtn {
  background: #6c757d !important;
  color: white !important;
}

.cancelAllocationBtn:hover {
  background: #5a6268 !important;
}

.submitAllocationBtn {
  background: var(--success-color) !important;
  color: white !important;
}

.submitAllocationBtn:hover {
  background: var(--success-hover-color) !important;
}

.submitAllocationBtn:disabled {
  background: #dee2e6 !important;
  color: #6c757d !important;
  cursor: not-allowed !important;
}

/* ---------- Responsive ---------- */
@media (max-width: 1200px) {
  .departmentGrid {
    grid-template-columns: 1fr !important;
  }
}

@media (max-width: 768px) {
  .budgetAllocationPage {
    padding: 1rem !important;
  }

  .pageHeader {
    flex-direction: column !important;
    gap: 1rem !important;
    align-items: flex-start !important;
  }

  .headerLeft h1 {
    font-size: 1.5rem !important;
  }

  .budgetSummarySection {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 1rem !important;
  }

  .summaryCard {
    padding: 1.5rem !important;
    gap: 1rem !important;
  }

  .summaryIcon {
    width: 50px !important;
    height: 50px !important;
    font-size: 1.5rem !important;
  }

  .summaryAmount {
    font-size: 1.8rem !important;
  }

  .controlsSection {
    flex-direction: column !important;
    gap: 1rem !important;
    align-items: stretch !important;
  }

  .departmentGrid {
    grid-template-columns: 1fr !important;
    gap: 1.5rem !important;
    padding: 1.5rem !important;
  }

  .departmentCard {
    padding: 1.5rem !important;
  }

  .departmentFooter {
    flex-direction: column !important;
    gap: 0.75rem !important;
    align-items: flex-start !important;
  }

  .allocationModal {
    width: 95% !important;
    max-width: 95% !important;
  }

  .allocationModalButtons {
    flex-direction: column !important;
  }

  .cancelAllocationBtn,
  .submitAllocationBtn {
    width: 100% !important;
  }
}